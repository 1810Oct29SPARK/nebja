<app-navbar></app-navbar>

<h2>Moderator View </h2>
<hr>
<div id="admod-search" class="col-md-12 text-center">
  <form class="searchForm" (ngSubmit)="userSearch(search)" #search="ngForm">
    <mat-form-field class="searchField">
      <input matInput placeholder="Search for a user by username" ngModel name="usernameInput">
    </mat-form-field>
    <button mat-raised-button type="submit">Submit</button>
  </form>
</div>


<table *ngIf="user.userRole == 'ADMIN'" class="col-md-12">
  <tbody *ngIf="searchUser" class="text-center">
    <tr>
      <td> <img src="http://profilepicturesdp.com/wp-content/uploads/2018/07/empty-profile-picture-6.jpg" style="width:75px; height:75px;">
      </td>
      <td> {{searchUser.username }} </td>
      <td *ngIf="searchUser.userRole == 'USER'"> <button mat-raised-button (click)="promoteToMod(searchUser.userid)"> Promote to Moderator </button></td>
      <td *ngIf="searchUser.userRole == 'MODERATOR'"> <button mat-raised-button (click)="removeMod(searchUser.userid)"> Remove as Moderator </button> </td>
      <td> <button mat-raised-button (click)="banUser(searchUser.userid)"> Ban </button> </td>
    </tr>

  </tbody>
</table>
<br>
<table *ngIf="user.userRole == 'MODERATOR'" class="col-md-6">
    <tbody *ngIf="searchUser" class="text-center">
      <tr>
        <td> <img src="http://profilepicturesdp.com/wp-content/uploads/2018/07/empty-profile-picture-6.jpg" style="width:75px; height:75px;">
        </td>
        <td> {{searchUser.username}} </td>
        <td> <button mat-raised-button (click)="banUser(searchUser.userid)"> Ban </button> </td>
      </tr>
  
    </tbody>
  </table>